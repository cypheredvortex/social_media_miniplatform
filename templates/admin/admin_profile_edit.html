{% extends "admin/admin_panel.html" %}
{% load static %}

{% block content %}
<div class="bg-white p-6 rounded-2xl shadow-md max-w-3xl mx-auto">

    <h2 class="text-2xl font-bold text-gray-800 mb-6">
        Edit Profile â€“ {{ profile.user.username }}
    </h2>

    {% if messages %}
        <ul class="mb-4">
            {% for message in messages %}
                <li class="p-3 rounded mb-2 shadow
                    {% if message.tags == 'error' %}bg-red-100 text-red-700{% endif %}
                    {% if message.tags == 'success' %}bg-green-100 text-green-700{% endif %}">
                    {{ message }}
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="POST" class="space-y-4">
        {% csrf_token %}

        <div>
            <label for="bio" class="block text-gray-700 font-medium mb-2">Bio</label>
            <textarea id="bio" name="bio" rows="4"
                      class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">{{ profile.bio }}</textarea>
        </div>

        <div>
            <label for="location" class="block text-gray-700 font-medium mb-2">Location</label>
            <input type="text" id="location" name="location" value="{{ profile.location }}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>

        <div>
            <label for="avatar_url" class="block text-gray-700 font-medium mb-2">Avatar URL</label>
            <input type="url" id="avatar_url" name="avatar_url" value="{{ profile.avatar_url }}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>

        <div>
            <label for="birthdate" class="block text-gray-700 font-medium mb-2">Birthdate</label>
            <input type="date" id="birthdate" name="birthdate"
                   value="{{ profile.birthdate|date:'Y-m-d' }}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>

        <div>
            <label for="website" class="block text-gray-700 font-medium mb-2">Website</label>
            <input type="url" id="website" name="website" value="{{ profile.website }}"
                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        </div>

        <div class="flex gap-4 mt-4">
            <button type="submit"
                    class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition font-semibold">
                Save Changes
            </button>

            <a href="{% url 'profil:admin_profile_detail' profile.id %}"
               class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 transition font-semibold">
                Cancel
            </a>
        </div>
    </form>

</div>
{% endblock %}
